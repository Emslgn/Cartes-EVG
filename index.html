<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Cartes EVG</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 2em;
      background: #0a0f1c;
      color: white;
    }
    h1 {
      text-align: center;
      color: #ffffff;
    }
    .button {
      display: inline-block;
      margin: .5em .2em;
      padding: .6em 1.2em;
      background: #1f2a44;
      color: white;
      border: none;
      border-radius: 5px;
    }
    .button:hover {
      background: #2c3e60;
      cursor: pointer;
    }
    .card {
      border: 2px solid #ffffff33;
      padding: 1.5em;
      margin: 1em 0;
      background: #12182b;
      border-radius: 8px;
      min-height: 120px;
    }
    .highlight {
      color: #ffd700;
      font-weight: bold;
    }
    .hidden {
      display: none;
    }
    .category-buttons {
      text-align: center;
    }
    .status {
      text-align: center;
      margin-top: 1em;
      font-size: 0.9em;
      color: #cccccc;
    }
  </style>
</head>
<body>

  <div id="home">
    <h1>Cartes EVG</h1>
    <div class="category-buttons">
      <button class="button" onclick="selectCat('Vie de couple')">Vie de couple</button>
      <button class="button" onclick="selectCat('Sous la couette')">Sous la couette</button>
      <button class="button" onclick="selectCat('Vision d‚ÄôHugo')">Vision d‚ÄôHugo</button>
      <button class="button" onclick="selectCat('Moment mignon')">Moment mignon</button>
    </div>
  </div>

  <div id="cards" class="hidden">
    <button class="button" onclick="backHome()">‚¨Ö Accueil</button>
    <div class="status" id="progressStatus"></div>
    <div class="card" id="questionBox"></div>
    <div class="category-buttons">
      <button class="button" onclick="nextQuestion()">Suivante</button>
      <button class="button" onclick="randomQuestion()">Carte al√©atoire</button>
    </div>
    <div class="category-buttons">
      <button class="button" onclick="markDone()">‚úÖ Trait√©e</button>
      <button class="button" onclick="markUndone()">üïì √Ä revoir</button>
    </div>
  </div>

  <script>
    const data = {
      "Vie de couple": [
        "Quel est le plat que Sophie kiffe le plus au monde ?",
        "Quelle t√¢che m√©nag√®re elle d√©teste tellement qu‚Äôelle te la refile en douce ?",
        "Quelle est sa s√©rie ‚Äúdoudou‚Äù, celle qu‚Äôelle peut revoir en boucle ?",
        "Dans la maison, quel objet elle a impos√© et toi t‚Äôas jamais compris pourquoi ?",
        "Quelle est la petite habitude que t‚Äôas et qu‚Äôelle trouve insupportable ?",
        "Elle a le choix entre un city trip et un week-end nature : elle choisit quoi ?",
        "Quel est le cadeau que tu lui as offert et qu‚Äôelle a trouv√©‚Ä¶ euh‚Ä¶ ‚Äúsurprenant‚Äù ?"
      ],
      "Sous la couette": [
        "Quelle est la zone du corps o√π elle aime que tu l‚Äôembrasses ?",
        "Si elle devait donner un surnom √† ta technique au lit, ce serait quoi ?",
        "Sur 10 √† combien elle note tes performances selon toi ?",
        "Quel v√™tement ou accessoire te rend sexy √† ses yeux (vraiment) ?",
        "Elle te surprend un soir avec une id√©e ‚Äúoriginale‚Äù : elle propose quoi ?",
        "Dans un fantasme, elle incarnerait quel r√¥le ?",
        "Quelle est la position o√π elle se sent reine du monde ?",
        "√Ä quel moment vous avez failli vous faire griller pour de vrai ?"
      ],
      "Vision d‚ÄôHugo": [
        "Si elle devait te comparer √† un animal, ce serait lequel ?",
        "√Ä quel personnage de film ou s√©rie lui fais tu penser ?",
        "Elle doit choisir une chanson qui vous repr√©sente : laquelle elle sort ?",
        "C‚Äôest quoi le truc chez toi qu‚Äôelle trouve ridicule mais qu‚Äôelle adore quand m√™me ?",
        "Elle te tatoue un mot pendant ton sommeil, juste pour se venger : elle √©crit quoi ?",
        "Elle dit souvent une phrase √† propos de toi. Laquelle ?",
        "Selon elle : tu serais quel type de p√®re (dans 10 ans) ?"
      ],
      "Moment mignon": [
        "C‚Äôest quand le moment o√π elle a su que t‚Äô√©tais ‚Äúle bon‚Äù ?",
        "Quelle est la plus belle chose que tu lui as dite selon elle ?",
        "Si elle devait choisir un moment que vous avez v√©cu et le revivre en boucle, ce serait lequel ?",
        "Elle a le droit de garder un seul souvenir de vous deux : c‚Äôest quoi ?",
        "Un mot pour te d√©crire, selon elle ?",
        "Une peur qu‚Äôelle a pour votre couple ?",
        "Un r√™ve qu‚Äôelle a, que tu ignores peut-√™tre encore ?",
        "Comment aimerait-elle f√™ter votre premi√®re anniversaire de mariage ?"
      ]
    };

    let currentCat = null;
    let idx = 0;
    let treated = {};

    function selectCat(cat) {
      currentCat = cat;
      idx = 0;
      if (!treated[cat]) {
        treated[cat] = new Set();
      }
      showScreen('cards');
      showQuestion();
    }

    function showScreen(id) {
      document.getElementById('home').classList.toggle('hidden', id !== 'home');
      document.getElementById('cards').classList.toggle('hidden', id !== 'cards');
    }

    function showQuestion() {
      const question = data[currentCat][idx];
      const isDone = treated[currentCat].has(idx);
      document.getElementById('questionBox').innerHTML =
        isDone ? `<span class="highlight">‚úÖ [Trait√©e]</span><br>${question}` : question;
      updateProgress();
    }

    function nextQuestion() {
      idx = (idx + 1) % data[currentCat].length;
      showQuestion();
    }

    function randomQuestion() {
      idx = Math.floor(Math.random() * data[currentCat].length);
      showQuestion();
    }

    function markDone() {
      treated[currentCat].add(idx);
      showQuestion();
    }

    function markUndone() {
      treated[currentCat].delete(idx);
      showQuestion();
    }

    function updateProgress() {
      const total = data[currentCat].length;
      const done = treated[currentCat].size;
      document.getElementById('progressStatus').innerHTML =
        `Cat√©gorie : <strong>${currentCat}</strong><br>` +
        `<span class="highlight">${done}</span> / ${total} questions trait√©es`;
    }

    function backHome() {
      showScreen('home');
    }
  </script>

</body>
</html>
